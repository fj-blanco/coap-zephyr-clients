# =============================================================================
# prj_pqc.conf - Zephyr configuration overlay for Post-Quantum Cryptography
# =============================================================================
# This overlay enables ML-KEM (Kyber) key exchange on ESP32 with wolfSSL.
# 
# Usage:
#   west build -b esp32_devkitc/esp32/procpu . -- -DEXTRA_CONF_FILE=prj_pqc.conf
#
# Or merge with prj.conf:
#   cat prj.conf prj_pqc.conf > prj_pqc_merged.conf
#   west build -b esp32_devkitc/esp32/procpu . -- -DCONF_FILE=prj_pqc_merged.conf
# =============================================================================

# Increased stack sizes for ML-KEM operations
# ML-KEM-768 requires approximately 10KB+ of stack space
CONFIG_MAIN_STACK_SIZE=16384
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=8192
CONFIG_IDLE_STACK_SIZE=2048

# Increased heap for PQC key material
# ML-KEM public keys are ~1KB, ciphertexts ~1KB
CONFIG_HEAP_MEM_POOL_SIZE=65536

# Use PQC-enabled wolfSSL configuration
CONFIG_WOLFSSL_SETTINGS_FILE="config-wolfssl-libcoap-pqc.h"

# Enable debug for development
CONFIG_WOLFSSL_DEBUG=y
CONFIG_LOG_DEFAULT_LEVEL=3
